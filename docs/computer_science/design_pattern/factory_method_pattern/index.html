<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">


    <title>工廠方法模式 | Fonu Site</title>

    <link rel="icon" href="/favicon.png" type="image/x-icon">



<link rel="stylesheet" href="/book.min.7510252a98b014e14a3c632e4fd10ef2d6b73bc99d7c8125fe4b8415e160cdb6.css" integrity="sha256-dRAlKpiwFOFKPGMuT9EO8ta3O8mdfIEl/kuEFeFgzbY=" crossorigin="anonymous">






  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>Fonu Site</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-9c5fb070aa6a846f1d3da7c79cefb6b5" class="toggle"  />
    <label for="section-9c5fb070aa6a846f1d3da7c79cefb6b5" class="flex justify-between">
      <a role="button" class="">生活相關</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/life/diary/" class="">每日小記</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/life/track_expenses/" class="">記帳</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/life/reading_experience/" class="">閱讀心得</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-29fcdd2f14dd6eca1f7ffa5701c3111e" class="toggle"  />
    <label for="section-29fcdd2f14dd6eca1f7ffa5701c3111e" class="flex justify-between">
      <a role="button" class="">命理相關</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/occultism/ziwei/" class="">紫微斗數</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/occultism/divination/" class="">隨手當神棍</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-9c904111af22e90e73dcd9cd05321afa" class="toggle" checked />
    <label for="section-9c904111af22e90e73dcd9cd05321afa" class="flex justify-between">
      <a role="button" class="">資工相關</a>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/docs/computer_science/debug/" class="">Debug 日誌</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/computer_science/cryptography/" class="">密碼學</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/docs/computer_science/design_pattern/" class="">設計模式</a>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>工廠方法模式</strong>

  <label for="toc-control">
    
  </label>
</div>


  
 
      </header>

      
      
  <article class="markdown"><h1 id="工廠方法模式">
  工廠方法模式
  <a class="anchor" href="#%e5%b7%a5%e5%bb%a0%e6%96%b9%e6%b3%95%e6%a8%a1%e5%bc%8f">#</a>
</h1>
<hr>
<ul>
<li><strong>ChatGPT 的說明</strong></li>
</ul>
<p>工廠方法模式（Factory Method Pattern）是一種創建型設計模式，它提供了一種創建物件的介面，但允許子類別決定要實例化的類別。這種模式的核心思想是「將物件的創建過程延遲到子類別中去實現。」從而達到物件的 &ldquo;創建&rdquo; 與 &ldquo;使用&rdquo; 分離，使得系統更加靈活和可擴展。工廠方法模式的主要組成部分包括以下角色：［<strong>抽象工廠</strong>］（Abstract Factory）：抽象工廠定義了一個抽象的工廠介面，包含一個用於建立產品物件的抽象方法。通常情況下，抽象工廠中可能會包含多個建立產品的方法，每個方法用於建立不同類型的產品。［<strong>具體工廠</strong>］（Concrete Factory）：具體工廠是實現抽象工廠介面的類別，負責創建具體產品。每個具體工廠對應於一種具體產品（或一組相關的特定產品）。［<strong>抽象產品</strong>］（Abstract Product）：抽象產品定義一個抽象的產品介面，通常包含了產品的通用方法或通用屬性。［<strong>具體產品</strong>］（Concrete Product）：具體產品是實現抽象產品介面的具體類別，用以表示不同類型的產品。</p>
<p>工廠方法模式的關鍵點是「透過將物件的創建委託給子類的具體工廠來實現。」這樣客戶端程式碼不需要直接依賴特定的工廠類型，而只需要依賴抽象工廠和抽象產品介面。這種方式使得系統更容易擴展，可以輕鬆添加新的工廠類型或變體，而無需修改現有的客戶端程式碼。以下是工廠方法模式的一些優點：［<strong>可擴充性</strong>］：使用工廠方法模式，可以透過建立新的特定工廠類別，來新增新的產品類型，而不影響現有的程式碼。［<strong>封裝性</strong>］：客戶端程式碼與特定的工廠類別解耦，只依賴抽象工廠和抽象產品接口，隱藏了具體產品的實作細節。［<strong>靈活性</strong>］：不同的具體工廠可以選擇不同的產品實現方式，以適應不同的需求和不同的環境。</p>
<ul>
<li><strong>簡單整理</strong></li>
</ul>
<p>問題描述：使用唯一的 <code>Factory</code> 可能會使該類別變得龐大</p>
<p>解決方案：透過建立 <code>AbstractFactory</code> 類別，讓 <code>Factory</code> 變得更加靈活</p>
<p>程式細節：參照下面的段落</p>
<p>UML 圖：</p>
<p><img src="/image/design_pattern/factory_method_uml.png" alt="image" /></p>
<ul>
<li><strong>程式碼範例</strong></li>
</ul>
<p>工廠方法模式，是比[簡單工廠]模式還要再複雜一點點的設計模式。主要的使用情境是「當單的 simple Factory 變得過於龐大」的時候。同樣拿簡單工廠模式中的「傢俱系統」作為例子：假設我們的家俱利統中，除了可以展示各種不同類別的傢俱之外，它可以針對不同的傢俱分類（像是金屬製、實木製、塑膠製 &hellip;等）展示出更加細節的傢俱種類（像是實木桌、橡木桌、組合木桌、大理石桌、塑膠桌 &hellip;等），此外每個傢俱都有自己的材質組合（衣櫃不會有玻璃的、床架只有木頭跟金屬的 &hellip;等），如果我們還是用原本的簡單工廠模式來實作這項功能的話，可能會變成下面這個樣子：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">FurnutireFactory</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 靜態的 createFurniture() 方法</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 現在多了一個 [材質] 的參數 </span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> Furniture <span style="color:#a6e22e">createFurniture</span>(String material, String name) {
</span></span><span style="display:flex;"><span>        Furniture furniture <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(name.<span style="color:#a6e22e">equal</span>(<span style="color:#e6db74">&#34;chair&#34;</span>)) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span>(material.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;Wooden&#34;</span>))
</span></span><span style="display:flex;"><span>                furniture <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> WoodenChair();
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(material.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;plastic&#34;</span>))
</span></span><span style="display:flex;"><span>                furniture <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> PlasticChair();
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(material.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;metal&#34;</span>))
</span></span><span style="display:flex;"><span>                furniture <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> MetalChair();
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">throw</span> FurnitureIsNotExistException();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(name.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;desk&#34;</span>)) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span>(material.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;Wooden&#34;</span>))
</span></span><span style="display:flex;"><span>                furniture <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> WoodenDesk();
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">throw</span> FurnitureIsNotExistException();
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(name.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;sofa&#34;</span>)) {
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// 各種不同材質的沙發</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 其他的 if else ...</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 其他的 if else ...</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> furniture;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>可以發現到：雖然這樣的程式仍然可以幫我們達成系統的需求，但程式本身已經開始變得有點可怕，<code>createFurniture()</code> 不僅出現了對於龐大類別的高度依賴，這也會對於往後對於系統的維護變得更加困難。因此，相對於使用「簡單工廠模式」來達成需求，一個更好的做法是使用「工廠方法模式」來完成我們所需要的各種功能：透過先定義一個抽象的「工廠」類別，並在工廠裡面定義不同種類的「產品」，再讓客戶根據不同的實際狀況，去依賴不同的「實體工廠」，便是工廠方法模式的核心想法：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#75715e">// 抽象類別 [傢俱工廠]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">FurnitureFactory</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">abstract</span> Furniture <span style="color:#a6e22e">createFurniture</span>(String name);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#75715e">// 繼承 [傢俱工廠] 的 [木製傢俱工廠]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">WoodenFurnitureFactory</span> <span style="color:#66d9ef">extends</span> FurnitureFactory {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Furniture <span style="color:#a6e22e">createFurniture</span>(String name) {
</span></span><span style="display:flex;"><span>        Furniture furniture <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(name.<span style="color:#a6e22e">equal</span>(<span style="color:#e6db74">&#34;chair&#34;</span>))
</span></span><span style="display:flex;"><span>            furniture <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> WoodenChair();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(name.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;desk&#34;</span>))
</span></span><span style="display:flex;"><span>            furniture <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> WoodenDesk();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(name.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;Bookshelf&#34;</span>))
</span></span><span style="display:flex;"><span>            furniture <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> WoodenBookshelf();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> FurnitureIsNotExistException();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> furniture;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#75715e">// 繼承 [傢俱工廠] 的 [金屬傢俱工廠]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MetalFurnitureFactory</span> <span style="color:#66d9ef">extends</span> FurnitureFactory {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@Override</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Furniture <span style="color:#a6e22e">createFurniture</span>(String name) {
</span></span><span style="display:flex;"><span>        Furniture furniture <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(name.<span style="color:#a6e22e">equal</span>(<span style="color:#e6db74">&#34;chair&#34;</span>))
</span></span><span style="display:flex;"><span>            furniture <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> MetalChair();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(name.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;table&#34;</span>))
</span></span><span style="display:flex;"><span>            furniture <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> MetalTable();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> FurnitureIsNotExistException();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> furniture;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#75715e">// 系統中的 [顧客] 類別</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Customer</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 新增一個 [傢俱工廠]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> FurnutireFactory factory;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String account;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String password;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 將不同材質的傢俱拆分成不同方法</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Furniture <span style="color:#a6e22e">getWoodenFurniture</span>(String name) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">factory</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> WoodenFurnitureFactory();
</span></span><span style="display:flex;"><span>        Furniture furniture <span style="color:#f92672">=</span> factory.<span style="color:#a6e22e">createFurniture</span>(name);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> furniture;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Furniture <span style="color:#a6e22e">getMetalFurniture</span>(String name) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">factory</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> MetalFurnitureFactory();
</span></span><span style="display:flex;"><span>        Furniture furniture <span style="color:#f92672">=</span> factory.<span style="color:#a6e22e">createFurniture</span>(name);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> furniture;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Furniture <span style="color:#a6e22e">getPlasticFurniture</span>(String name) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">factory</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> PlasticFurnitureFactory();
</span></span><span style="display:flex;"><span>        Furniture furniture <span style="color:#f92672">=</span> factory.<span style="color:#a6e22e">createFurniture</span>(name);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> furniture;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Furniture <span style="color:#a6e22e">getMarbleFurniture</span>(String name) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">factory</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> MarbleFurnitureFactory();
</span></span><span style="display:flex;"><span>        Furniture furniture <span style="color:#f92672">=</span> factory.<span style="color:#a6e22e">createFurniture</span>(name);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> furniture;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>透過父類別 <code>FurnitureFactory</code> 中的共同方法，現在我們無論是使用木製傢俱工廠（<code>WoodenFurnitureFactory</code>）、金屬傢俱工廠（<code>MetalFurnitureFactory</code>）、塑膠傢俱工廠（<code>PlasticFurnitureFactory</code>）或者是大理石制傢俱工廠（<code>MarbleFurnitureFactory</code>），都可以透過統一的一個 <code>createFurniture()</code> 方法來完成「獲得傢俱」的功能。此外，如果對於上述的程式感到「各種類型的傢俱還要分開來寫，好麻煩 &hellip;」的話，也可以合在一起寫：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#75715e">// 系統中的 [顧客] 類別</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Customer</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 新增一個 [傢俱工廠]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> FurnutireFactory factory;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String account;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">private</span> String password;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// 將不同材質的傢俱拆分成不同方法</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> Furniture <span style="color:#a6e22e">getWoodenFurniture</span>(String material, String name) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span>(material.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;wooden&#34;</span>))
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">factory</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> WoodenFurnitureFactory();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(material.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;metal&#34;</span>))
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">factory</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> MetalFurnitureFactory();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(material.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;plastic&#34;</span>))
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">factory</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> PlasticFurnitureFactory();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span>(material.<span style="color:#a6e22e">equals</span>(<span style="color:#e6db74">&#34;marble&#34;</span>))
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">factory</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> MarbleFurnitureFactory();
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> FactoryNotExistException();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        Furniture furniture <span style="color:#f92672">=</span> factory.<span style="color:#a6e22e">createFurniture</span>(name);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> furniture;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>雖然這樣做會稍微違反<a href="../single_responsibility_principle">單一職責原則</a>的想法，意即一個類別應該只負責一組相關的事物（畢竟 <code>Customer</code> 是負責處理「顧客」相關的程式邏輯，<code>getWoodenFurniture()</code> 方法現在還包含了一些「該怎麼創建不同的傢俱工廠」），但設計原則跟設計模式本來就不是得一定遵守的，它們只是提供了一個「便於寫程式」的方法而已，在這個情況下，雖然違反原則，但的確減少了 <code>Customer</code> 的方法數。但嚴格來說哪種方式好？可能就因人而異了。</p>
</article>
 
      <div id="gitalk-container"></div>

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
  </main>

  
</body>
</html>












